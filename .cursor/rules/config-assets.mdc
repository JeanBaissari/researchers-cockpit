---
description: Asset configuration patterns - asset YAML structure, symbol definitions, asset class conventions
globs: config/assets/**/*.yaml
alwaysApply: false
---

# Asset Configuration Patterns

## Purpose
Define patterns for asset configuration YAML files in `config/assets/`, including structure standards, symbol definitions, and asset class conventions.

## Asset YAML Structure

### Complete Asset Definition
Each asset must have complete definition with all required sections.

```yaml
# ✅ GOOD - Complete asset definition
BTC-USD:
  symbol: BTC-USD
  name: Bitcoin
  exchange: Composite
  asset_class: crypto
  
  trading:
    calendar: CRYPTO            # Trading calendar
    min_trade_size: 0.0001      # Minimum order size
    tick_size: 0.01             # Price increment
    
  costs:
    commission_pct: 0.001       # Commission percentage
    slippage_pct: 0.0005        # Slippage percentage
  
  data_sources:
    primary: yahoo              # Primary data source
    alternatives:               # Alternative sources
      - binance
      - coinbase
  
  risk:
    typical_volatility: 0.60    # Annualized volatility
    max_position_size: 0.20     # Max portfolio allocation
  
  notes: |
    Additional notes about the asset

# ❌ BAD - Incomplete asset definition
BTC-USD:
  symbol: BTC-USD
  commission: 0.001
  # Missing trading, costs, data_sources sections!
```

## Asset Class Organization

### Organize by Asset Class
Assets organized in separate YAML files by asset class.

```yaml
# ✅ GOOD - config/assets/crypto.yaml
BTC-USD:
  symbol: BTC-USD
  asset_class: crypto
  # ... crypto-specific config

ETH-USD:
  symbol: ETH-USD
  asset_class: crypto
  # ... crypto-specific config

# ✅ GOOD - config/assets/equities.yaml
SPY:
  symbol: SPY
  asset_class: equity
  # ... equity-specific config

# ❌ BAD - Mixed asset classes in one file
# config/assets/all.yaml
BTC-USD:
  asset_class: crypto
SPY:
  asset_class: equity
# Don't mix asset classes!
```

## Trading Parameters

### Trading Section Structure
Trading section must include calendar, min_trade_size, and tick_size.

```yaml
# ✅ GOOD - Complete trading section
trading:
  calendar: CRYPTO              # Required: trading calendar
  min_trade_size: 0.0001        # Required: minimum order size
  tick_size: 0.01               # Required: price increment

# For equities
trading:
  calendar: NYSE
  min_trade_size: 1             # Shares for equities
  tick_size: 0.01

# ❌ BAD - Missing trading parameters
trading:
  calendar: CRYPTO
  # Missing min_trade_size and tick_size!
```

## Cost Configuration

### Cost Section Structure
Cost section structure varies by asset class.

```yaml
# ✅ GOOD - Crypto costs (percentage-based)
costs:
  commission_pct: 0.001         # Percentage commission
  slippage_pct: 0.0005          # Slippage percentage

# ✅ GOOD - Equity costs (per-share)
costs:
  commission_per_share: 0.005   # Per-share commission
  min_commission: 1.0           # Minimum commission
  typical_spread: 0.01          # Typical bid/ask spread

# ❌ BAD - Wrong cost structure for asset class
# Crypto using per-share costs
costs:
  commission_per_share: 0.005   # Wrong for crypto!
```

## Data Sources Configuration

### Data Sources Section
Each asset must specify primary and alternative data sources.

```yaml
# ✅ GOOD - Complete data sources
data_sources:
  primary: yahoo                # Required: primary source
  alternatives:                 # Optional: alternative sources
    - binance
    - coinbase

# ✅ GOOD - Single source
data_sources:
  primary: yahoo
  # alternatives can be omitted if only one source

# ❌ BAD - Missing primary source
data_sources:
  alternatives:
    - binance
  # Missing primary!
```

## Symbol Definitions

### Symbol Naming Conventions
Follow standard symbol naming conventions per asset class.

```yaml
# ✅ GOOD - Crypto symbols (Yahoo format)
BTC-USD:  # Bitcoin
ETH-USD:  # Ethereum
SOL-USD:  # Solana

# ✅ GOOD - Equity symbols (ticker format)
SPY:      # S&P 500 ETF
QQQ:      # Nasdaq-100 ETF
IWM:      # Russell 2000 ETF

# ✅ GOOD - Forex symbols (Yahoo format)
EURUSD=X:  # Euro/USD
GBPJPY=X:  # GBP/JPY

# ❌ BAD - Non-standard symbol names
bitcoin:   # Should be BTC-USD
SP500:     # Should be SPY
```

## Asset Class Conventions

### Asset Class Values
Use standard asset class values: 'crypto', 'forex', 'equity'.

```yaml
# ✅ GOOD - Standard asset classes
asset_class: crypto    # Cryptocurrencies
asset_class: forex     # Foreign exchange
asset_class: equity    # Stocks/ETFs

# ❌ BAD - Non-standard asset classes
asset_class: cryptocurrency  # Should be 'crypto'
asset_class: stock           # Should be 'equity'
asset_class: fx              # Should be 'forex'
```

## Risk Parameters

### Risk Section (Optional)
Include risk parameters for position sizing guidance.

```yaml
# ✅ GOOD - Risk parameters
risk:
  typical_volatility: 0.60    # Annualized volatility
  max_position_size: 0.20     # Max portfolio allocation
  beta: 1.0                   # For equities (vs market)

# ❌ BAD - Missing risk context
# No risk section - position sizing unclear
```

## Enforcement

- **Structure Validation**: Verify complete asset definition structure
- **Asset Class Match**: Check asset_class matches file location
- **Trading Parameters**: Verify all trading parameters present
- **Symbol Naming**: Check symbol follows conventions

## Related Agents

- `.claude/agents/codebase-architect.md` - Asset config architecture
- `.claude/agents/strategy_developer.md` - Asset selection
- `config/assets/` - Asset configuration files
